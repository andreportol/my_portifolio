{% extends "base.html" %}
{% load static %}

{% block title %}Contato | André Luzardo Porto{% endblock %}

{% block messages %}{% endblock %}

{% block content %}
    <section class="hero hero-small">
        <p class="eyebrow">Contato</p>
        <h1 class="hero-title">Vamos construir algo juntos?</h1>
        <p class="hero-lead">
            Conte-me sobre o seu projeto.
            A partir do contexto, analiso o cenário e indico como posso contribuir com APIs, automações e soluções com IA aplicada.
        </p>
    </section>

    <div class="glass-card">
        {% if messages %}
        <div class="mb-3">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags|default:'info' }} mb-2" role="alert">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
        {% endif %}
        <form method="post" action="{% url 'core:enviar_email' %}" novalidate>
            {% csrf_token %}
            {% if form.non_field_errors %}
            <div class="alert alert-danger" role="alert">
                {{ form.non_field_errors|striptags }}
            </div>
            {% endif %}
            <div class="row g-3">
                <div class="col-md-6">
                    <label for="id_nome" class="form-label">Nome</label>
                    <input type="text" name="nome" id="id_nome" class="form-control" required maxlength="50" value="{{ form.nome.value|default:'' }}" placeholder="Seu nome completo" autofocus>
                    {% if form.nome.errors %}
                    <div class="text-danger small">{{ form.nome.errors|striptags }}</div>
                    {% endif %}
                </div>
                <div class="col-md-6">
                    <label for="id_telefone" class="form-label">WhatsApp/Telefone</label>
                    <input type="tel" name="telefone" id="id_telefone" class="form-control" required maxlength="15" value="{{ form.telefone.value|default:'' }}" placeholder="(00) 00000-0000" inputmode="numeric" pattern="\(\d{2}\)\d{5}-\d{4}">
                    {% if form.telefone.errors %}
                    <div class="text-danger small">{{ form.telefone.errors|striptags }}</div>
                    {% endif %}
                </div>
                <div class="col-md-6">
                    <label for="id_email" class="form-label">Email</label>
                    <input type="email" name="email" id="id_email" class="form-control" required maxlength="30" value="{{ form.email.value|default:'' }}" placeholder="voce@email.com">
                    {% if form.email.errors %}
                    <div class="text-danger small">{{ form.email.errors|striptags }}</div>
                    {% endif %}
                </div>
                <div class="col-12">
                    <label for="id_assunto" class="form-label">Assunto</label>
                    <textarea name="assunto" id="id_assunto" class="form-control" rows="5" required maxlength="400" placeholder="Descreva o que precisa">{{ form.assunto.value|default:'' }}</textarea>
                    {% if form.assunto.errors %}
                    <div class="text-danger small">{{ form.assunto.errors|striptags }}</div>
                    {% endif %}
                </div>
                <div class="col-12 d-flex flex-wrap gap-2 form-actions-mobile">
                    <button type="submit" class="btn-cta d-inline-flex align-items-center gap-2">
                        <img src="{% static 'img/o-email.png' %}" alt="Email" style="width:18px; height:18px;">
                        Enviar
                    </button>
                    <a href="https://wa.me/5567992520749?text=Ol%C3%A1%2C%20Andr%C3%A9!%20Vi%20o%20portf%C3%B3lio%20e%20quero%20falar%20sobre%20um%20projeto." class="btn-ghost d-inline-flex align-items-center gap-2" target="_blank" rel="noopener noreferrer">
                        <img src="{% static 'img/whatsapp.png' %}" alt="WhatsApp" style="width:20px; height:20px;">
                        Falar no WhatsApp
                    </a>
                    <a href="tel:+5567992520749" class="btn-ghost d-inline-flex align-items-center gap-2">
                        <img src="{% static 'img/telefone.png' %}" alt="Telefone" style="width:18px; height:18px;">
                        Ligar agora
                    </a>
                </div>
            </div>
        </form>
    </div>

    <div class="d-flex align-items-start gap-3 mt-3 contact-links">
        <div class="d-flex flex-column gap-2">
            <div class="d-flex align-items-center gap-2">
                <img src="{% static 'img/o-email.png' %}" alt="Email" style="width:20px; height:20px;">
                <span><strong>Email:</strong> andreportol@gmail.com</span>
            </div>
            <div class="d-flex align-items-center gap-2">
                <img src="{% static 'img/linkedin-24.png' %}" alt="LinkedIn" class="icon-linkedin" style="width:20px; height:20px;">
                <span><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/andreluzardoporto/" target="_blank" rel="noopener noreferrer">/andreluzardoporto</a></span>
            </div>
        </div>
    </div>
{% endblock %}
